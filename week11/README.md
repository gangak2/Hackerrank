Problem 1: Fairly straight-forward
Problem 2: There are very few (<400) such numbers, and also the next number can be found using the previous numbers so preprocessing to find all such numbers and then handling the queries is best solution
